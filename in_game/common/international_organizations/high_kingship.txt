high_kingship = {

	has_target = no
	unique = no
	expel_members_who_are_targets_of_other_members = no

	custom_name = high_kingship_name

	create_visible_trigger = {
		always = no
	}

	invite_visible_trigger = {
		always = yes
	}
	
	show_as_overlord_on_map_trigger = {
		scope:recipient = {
			international_organization_has_leader = yes
		}
	}
	
	has_leader_country = yes
	leader_title_key = "high_kingship_LEADER"
	leader_type = character
	leader = {
		leader_country ?= {
			ruler = {
				add_to_list = leaders
			}
		}
	}
	leader_change_trigger_type = rulerchange
	leader_change_method = vote
	leadership_election_resolution = high_kingship_election
	disband_if_no_leader = no #can have no leader while there's a power battle to get enough votes

	join_defensive_wars = Never

	join_offensive_wars = Never
	
	can_declare_war = {
		always = yes
	}

	land_ownership_rule = high_kingship_land_ownership
	antagonism_modifier_for_taking_land_from_fellow_member = 0.5
	
	modifier = {
		block_from_change_to_kingdom_rank = yes
		block_from_change_to_empire_rank = yes
	}

	non_leader_modifier = {		
		block_from_change_to_duchy_rank = yes
	}

	leader_modifier = {		
		great_power_score_exempt_from_forfeit = 50
		monthly_prestige = 0.1
	}
	
	can_lead_trigger = {
		OR = {
			AND = {
				scope:recipient = { leader_country ?= ROOT }
				heir ?= {
					is_adult = yes
					NOT = { has_character_modifier = blocked_from_high_kingship }
				}
			}
			AND = {				
				scope:recipient = { NOT = { leader_country ?= ROOT } }
				ruler ?= {
					is_adult = yes
					NOT = { has_character_modifier = blocked_from_high_kingship }
				}
			}
		}
		OR = {
			# priests and cities have their own carry-on to worry about
			government_type = government_type:monarchy
			government_type = government_type:tribe
		}
		NOT = {
			# your man cannot be high king over his own overlord!
			any_overlord_or_above = {
				is_member_of_international_organization = scope:recipient
			}
		}
	}
	
	can_join_trigger = {
		modifier:can_be_member_of_a_high_kingship = yes
		is_rebel_country = no
		scope:actor ?= {
			this_opinion_of_prev > 150
		}
		any_owned_location = {
			is_owned_by_international_organization = scope:recipient
		}
	}
	
	can_leave_trigger = {
		OR = {
			NOT = {
				capital.region = region:ireland_region
			}
			is_member_of_international_organization = international_organization:lordship_of_ireland
		}
	}
	
	auto_leave_trigger = {
		OR = {
			modifier:can_be_member_of_a_high_kingship = no
			is_member_of_international_organization = international_organization:lordship_of_ireland
		}
	}
	
	auto_disband_trigger = {
		total_members < 1
	}

	on_joined = {
	}

	on_left = {
	}

	gives_military_access_to_all_when_at_war = yes
	
	monthly_effect = {
		#auto-join
		every_international_organization_owned_location = {
			limit = {
				is_capital = yes
				owner = {
					NOT = { is_member_of_international_organization = root }
					country_can_join_international_organization = root
				}
			}
			root = {
				add_country_to_international_organization = prev.owner
			}
		}
	}
	
	variables = {
		high_kingship_region = {
			format = "HIGH_KINGSHIP_REGION_FORMAT"
		}
	}

	ai_desire_to_join = {
	}
	
	ai_desire_to_allow_new_member = {
		add = {
			desc = "WE_WANT_THE_ORGANIZATION_TO_GROW"
			value = 20
		}
	}
	special_statuses_implemented = {
		high_king
	}
}

