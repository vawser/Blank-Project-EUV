
bolster_the_monarchy = {
	estate = crown_estate

	modifier_when_in_debate = {
		monthly_legitimacy = 1
	}

	allow = {
		at_war = no
		OR = {
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
		"estate_power(estate_type:crown_estate)" < 0.5
		government_type = government_type:monarchy
		NOT = {
			has_country_modifier = bolstered_crown_authority_modifier
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" < 0.2
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" > 0.4
				}
				value = 0.5
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}
	
	on_debate_passed = {
		add_country_modifier = {
			modifier = bolstered_crown_authority_modifier
			years = 10
			mode = add_and_extend
		}
		
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

bolster_the_republic = {
	estate = crown_estate

	modifier_when_in_debate = {
		monthly_republican_tradition = 1
	}

	allow = {
		at_war = no
		"estate_power(estate_type:crown_estate)" < 0.5
		OR = {
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
		government_type = government_type:republic
		NOT = {
			has_country_modifier = bolstered_state_authority
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" < 0.2
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" > 0.4
				}
				value = 0.5
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}
	
	on_debate_passed = {
		add_country_modifier = {
			modifier = bolstered_state_authority
			years = 10
			mode = add_and_extend
		}
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

bolster_the_divine_mandate = {
	estate = crown_estate

	modifier_when_in_debate = {
		monthly_devotion = 1
	}

	allow = {
		at_war = no
		"estate_power(estate_type:crown_estate)" < 0.5
		OR = {
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
		government_type = government_type:theocracy
		NOT = {
			has_country_modifier = bolstered_divine_authority
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" < 0.2
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" > 0.4
				}
				value = 0.5
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}
	
	on_debate_passed = {
		add_country_modifier = {
			modifier = bolstered_divine_authority
			years = 10
			mode = add_and_extend
		}
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

bolster_the_tribal_leader = {
	estate = crown_estate

	modifier_when_in_debate = {
		monthly_tribal_cohesion = 1
	}

	allow = {
		at_war = no
		"estate_power(estate_type:crown_estate)" < 0.5
		OR = {
			parliament_type = parliament_type:assembly
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
		}
		government_type = government_type:tribe
		NOT = {
			has_country_modifier = bolstered_tribal_authority
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" < 0.2
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" > 0.4
				}
				value = 0.5
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}
	
	on_debate_passed = {
		add_country_modifier = {
			modifier = bolstered_tribal_authority
			years = 10
			mode = add_and_extend
		}
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

bolster_the_khan = {
	estate = crown_estate

	modifier_when_in_debate = {
		monthly_horde_unity = 1
	}

	allow = {
		OR = {
			parliament_type = parliament_type:assembly
		}
		"estate_power(estate_type:crown_estate)" < 0.5
		government_type = government_type:steppe_horde
		NOT = {
			has_country_modifier = bolstered_khan_authority
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" < 0.2
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					"estate_power(estate_type:crown_estate)" > 0.4
				}
				value = 0.5
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}
	
	on_debate_passed = {
		add_country_modifier = {
			modifier = bolstered_khan_authority
			years = 10
			mode = add_and_extend
		}
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

conduct_a_census = {
	estate = crown_estate

	modifier_when_in_debate = {
		global_population_growth = 0.005
	}

	allow = {
		always = yes
		OR = {
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					stability <= 0
				}
				value = 2
			}
		}
		add = {
			if = {
				limit = {
					stability <= -40
				}
				value = 4
			}
		}
		add = {
			if = {
				limit = {
					stability >= 80
				}
				value = -1
			}
		}
	}
	
	on_debate_passed = {
		add_stability = stability_mild_bonus
		
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

support_ruler = {
	estate = crown_estate

	modifier_when_in_debate = {
		global_crown_estate_power = 0.5
	}

	allow = {
		has_ruler = yes
		OR = {
			parliament_type = parliament_type:assembly
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					government_power < 50
				}
				value = -1
			}
		}
		add = {
			if = {
				limit = {
					government_power > 90
				}
				value = 2
			}
		}
	}
	
	on_debate_passed = {
		if = {
			limit = {
				has_ruler = yes
			}
			ruler = {
				add_adm = 3
				add_dip = 3
				add_mil = 3
			}
		}
		else_if = {
			limit = {
				has_regent = yes
			}
			regent = {
				add_adm = 3
				add_dip = 3
				add_mil = 3
			}
		}
		
		
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

increase_our_control = {
	estate = crown_estate

	modifier_when_in_debate = {
		global_monthly_control = 0.005
	}

	allow = {
		has_ruler = yes
		OR = {
			parliament_type = parliament_type:assembly
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
		has_advance = counting_house_advance
		any_owned_location = {
			OR = {
				location_rank = location_rank:town
				location_rank = location_rank:city
			}
			NOT = { has_building = building_type:counting_house }
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					average_control_in_home_region <= 0.5
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					average_control_in_home_region >= 0.7
				}
				value = 0.5
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}
	
	on_debate_passed = {
		ordered_owned_location = {
			order_by = population
			max = {
				value = num_provinces
				multiply = 0.1
				add = 1
			}
			limit = {
				NOT = { has_building = building_type:counting_house }
				OR = {
					location_rank = location_rank:town
					location_rank = location_rank:city
				}
			}
			construct_building = {
				building_type = building_type:counting_house
				cost_multiplier = 0.5
				cost_multiplier_reason = "game_concept_parliament_issue"
			}
		}
		
	}
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

expand_diplomatic_corps_majors = {
	estate = crown_estate

	modifier_when_in_debate = {
		diplomatic_reputation = diplomatic_reputation_mild_bonus
	}

	allow = {
		OR = {
			parliament_type = parliament_type:autocratic_parliament
			parliament_type = parliament_type:constitutional_parliament
		}
		any_great_power ?= {
			NOT = { is_rival_of = ROOT }
			NOT = { is_enemy_of = ROOT }
			is_known_by_country = root
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					num_of_diplomats <= 2
				}
				value = 2
			}
		}
		multiply = {
			if = {
				limit = {
					is_hegemon = yes
				}
				value = 0.1
			}
			else = {
				value = 1	#We need that else or otherwise the whole chance is multiplied with 0
			}
		}
	}

	on_debate_passed = {
		add_diplomats = 5
		ordered_great_power = {
			limit = {
				NOT = {
					is_rival_of = ROOT
				}
				NOT = {
					is_enemy_of = ROOT
				}
			}
			max = 2
			check_range_bounds = no
			order_by = {
				value = expected_army_size
				multiply = -1
			}
			add_opinion = {
				target =  ROOT
				modifier = careful_diplomatic_manouvering
			}
		}
	}
	
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}

improve_subject_relations = {
	estate = crown_estate

	modifier_when_in_debate = {
		subject_loyalty = 10
		subject_income_modifier = 0.2
	}

	allow = {
		num_subjects >= 1
		OR = {
			parliament_type = parliament_type:assembly
			parliament_type = parliament_type:council
			parliament_type = parliament_type:estate_parliament
			parliament_type = parliament_type:dutch_parliament
			parliament_type = parliament_type:plc_parliament
		}
	}

	chance = {
		add = 1
		add = {
			if = {
				limit = {
					num_subjects >= 2
				}
				value = 2
			}
		}
	}
	
	on_debate_passed = {
		every_subject = {
			add_liberty_desire = liberty_desire_weak_minus
		}
	}
	
	on_debate_failed = {
		parliament_debate_failed_effect = yes
	}
}