is_adjacent_to_owned_or_subject_owns = {
	custom_tooltip = {
		text = is_adjacent_to_owned_or_subject_owns
		any_neighbor_location = {
			OR = {
				owner ?= scope:actor 
				owner ?= { 
					exists = overlord
					overlord = scope:actor 
				}
			}
		}
	}
}

is_coastal_within_range = { 
	custom_tooltip = {
		text = is_coastal_within_range
		
		is_coastal = yes
		within_colonial_range_of = scope:actor
	}
}


has_midgame_manufactory_building = {
	any_buildings_in_location = {
		building_type = {
			has_tag = midgame_manufactory
		}
	}
}

has_land_military_building = {
	any_buildings_in_location = {
		building_type = {
			building_manpower_produced > 0
		}
	}
}

has_military_producing_building = {
	any_buildings_in_location = {
		OR = {
			building_produced_goods = goods:weaponry
			building_produced_goods = goods:firearms		
			building_produced_goods = goods:cannons		
		}
	}
}

has_any_guild_building = {
	any_buildings_in_location = {
		building_type = {
			has_tag = guild
		}
	}
}

owner_owns_no_copies_of_building = {
	custom_tooltip = {
		text = owner_owns_no_copies_of_building_tt
		owner = {
			not = {
				any_owned_location = {
					has_building = building_type:$type$
				}
			}
		}
	}
}

is_historical_route_of_great_wall = {
	custom_tooltip = {
		text = is_historical_route_of_great_wall_tt
		OR = {
			#Ancient wall route
			location_key = yangguan
			location_key = shazhou
			location_key = kuyu_shazhou
			location_key = chijin
			location_key = jinta
			location_key = suzhou_gansu
			location_key = gaotai
			location_key = ganzhou
			location_key = shandan
			location_key = yongchang_ganzhou
			location_key = xiliang
			location_key = gulang
			location_key = longxi_gongchang
			location_key = tongwei
			location_key = jingning
			location_key = sanchuan
			location_key = kaicheng_guyuan
			location_key = baimachen
			location_key = huanzhou_qingyang
			location_key = anbian
			location_key = jingbian
			location_key = huaiyuan_mizhi
			location_key = yulin
			location_key = kaiguang
			location_key = shenmu
			location_key = fugu
			location_key = hebin
			location_key = yinshan
			location_key = wuchuan
			location_key = pingdi
			location_key = jining
			location_key = erdao
			location_key = weining
			location_key = xuanping
			location_key = xuande
			location_key = longmen_chicheng
			location_key = dushikou
			location_key = yixingzhou
			location_key = liuyuan
			location_key = songzhou
			location_key = quanning
			location_key = naiman
			location_key = yizhou_jurchen
			location_key = kaicheng
			#Ming wall route
			location_key = lutang
			location_key = yingli
			location_key = mingsha
			location_key = lingwu
			location_key = ningxia
			location_key = lingzhou
			location_key = yanchi
			location_key = piantouguan
			location_key = shenwu
			location_key = ningbian
			location_key = zhenwu
			location_key = liangcheng
			location_key = guozhou
			location_key = jianzhou_daizhou
			location_key = lingqiu
			location_key = feihu
			location_key = lingxian_shanxi
			location_key = baoan_baoan
			location_key = huairou
			location_key = miyun
			location_key = luanyang
			location_key = xiabancheng
			location_key = kuanhe_xingzhou
			location_key = sanchakou
			location_key = longshan
			location_key = shenshui
			location_key = xiankang
			location_key = yizhou_jinzhou
			location_key = dalinghe
			location_key = shenyang
			location_key = fushun_liaoyang
			location_key = qinhe
			location_key = dingliao
			location_key = dandong
		}
	}
}

has_great_or_unique_palace = {
	any_buildings_in_location = {
		building_type = {
			has_tag = unique_palace
		}
	}
}

show_production_building_trigger = { 
	any_buildings_in_location = {
		OR = {
			building_category = consumer_goods_category
			building_category = weapons_industry_category
			building_category = basic_industry_category
		}
		count > 10	
	}
}