# root = exploration

on_exploration_monthly_pulse = {
	on_actions = {
	}

	events = {
		exploration_monthly.38 #New World Discovery sets variable for discovery
	}
	
	random_events = {
		1 = exploration_monthly.1
		1 = exploration_monthly.2
		1 = exploration_monthly.3
		1 = exploration_monthly.4
		1 = exploration_monthly.5
		1 = exploration_monthly.6
		1 = exploration_monthly.7
		1 = exploration_monthly.8
		1 = exploration_monthly.9
		1 = exploration_monthly.10
		1 = exploration_monthly.11
		1 = exploration_monthly.12
		1 = exploration_monthly.16
		1 = exploration_monthly.17
		1 = exploration_monthly.18
		1 = exploration_monthly.19
		1 = exploration_monthly.20
		1 = exploration_monthly.21
		1 = exploration_monthly.22
		1 = exploration_monthly.23
		1 = exploration_monthly.24
		1 = exploration_monthly.25
		1 = exploration_monthly.26
		1 = exploration_monthly.27
		1 = exploration_monthly.28
		1 = exploration_monthly.29
		1 = exploration_monthly.30
		1 = exploration_monthly.31
		1 = exploration_monthly.32
		1 = exploration_monthly.33
		1 = exploration_monthly.34
		1 = exploration_monthly.35
		1 = exploration_monthly.36
		1 = exploration_monthly.37
		1 = exploration_monthly.39

		chance_to_happen = 1
		chance_of_no_event = {
			value = 10
		}
	}

}

#root = country, scope:target = area  scope:actor = character
on_exploration_success = {
	on_actions = {
	}

	effect = {
		if = {
			limit = {
				scope:target.sub_continent = sub_continent:south_america
				has_variable = mal_founding_expedition_start
				#this area belongs to south america, and the country has the mal_founding_expedition_start variable
			}
			scope:actor = {
				save_scope_as = target_character
			}
			trigger_event_non_silently = flavor_mal.25
		}
		if = {
			limit = { has_variable = mission_new_maps_variable }
			remove_variable = mission_new_maps_variable
			trigger_event_non_silently = generic_colonial_exploration_events.2
		}
		if = {
			limit = {
				NOT = { has_variable = num_of_explorations }
			}
			set_variable = {
				name = num_of_explorations
				value = 1
			}
		}
		else = {
			change_variable = {
				name = num_of_explorations
				add = 1
			}
		}
	}

	random_events =	{
		10 = exploration_success.1

		chance_to_happen = 5
	}
}
