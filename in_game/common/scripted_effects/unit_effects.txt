#root = unit
grant_special_unit_experience = {
	if = {
		limit = {
			any_sub_unit = {
				OR = {
					sub_unit_type = unit_type:a_mandekalu_infantry
					sub_unit_type = unit_type:a_mandekalu_cavalry
				}
			}
		}
		every_sub_unit = {
			limit = {
				OR = {
					sub_unit_type = unit_type:a_mandekalu_infantry
					sub_unit_type = unit_type:a_mandekalu_cavalry
				}
			}
			owner = {
				if = {
					limit = { NOT = { has_variable = mandekalu_exp } }
					set_variable = {
						name = mandekalu_exp
						value = $value$
					}
				}
				else = {
					change_variable = {
						name = mandekalu_exp
						add = $value$
					}
				}
			}
		}
	}
}


destroy_every_sub_unit_of_type = {
	if = {
		limit = { any_sub_unit = { sub_unit_type = $sub_unit_type$ count = all } }
		destroy_unit = yes
	}
	else = {
		custom_description = {
			text = destroy_every_sub_unit_of_type
			value = $sub_unit_type$
			every_sub_unit = {
				limit = { sub_unit_type = $sub_unit_type$ }
				destroy_subunit = yes
			}
		}
	}
}