fleet_basing_rights =  { 
	type = diplomacy
	relation_type = oneway
    block_when_at_war = yes
    break_on_war = yes
    annulled_by_peace_treaty = yes
    diplomatic_cost_request = fleet_basing_rights
    fleet_basing_rights = yes
    receiving_color = define:NMapColors|DIPLOMACY_FLEET_BASING_COLOR
    category = {
        offer = CATEGORY_ACCESS_ACTIONS
        request = CATEGORY_ACCESS_ACTIONS
        cancellation = CATEGORY_ACCESS_ACTIONS
        break = CATEGORY_ACCESS_ACTIONS
    }

    buy_price = buy_fleet_basing_rights

    institution_spread_to_first = monthly_institution_spread_weak
    institution_spread_to_second = monthly_institution_spread_weak

    relation_type_for_ai = friendly

	offer_enabled = {
        scope:actor = {
            has_ports = yes
            not = { has_blocked_treaties = scope:recipient }
            has_limited_diplomacy = no
            not = { gives_fleet_basing_rights_to = scope:recipient }
        }
        scope:recipient = {
            has_ports = yes
            OR = {
                is_subject = no
                AND = {
                    is_subject = yes
                    not = { overlord = scope:actor }
                    subject_type = {
                        gives_fleet_basing_rights = no
                    }
                }
            }
        }
	}

	request_enabled = {
        scope:actor = {
            has_ports = yes
            not = { has_blocked_treaties = scope:recipient }
            has_limited_diplomacy = no
            OR = {
                is_subject = no
                AND = {
                    is_subject = yes
                    not = { overlord = scope:actor }
                    subject_type = {
                        gives_fleet_basing_rights = no
                    }
                }
            }
            not = { receives_fleet_basing_rights_from = scope:recipient }
        }
        scope:recipient = {
            has_ports = yes
        }
	}

    wants_to_receive_diplo_chance = {
        base = 10
        giving_defensive_support = 5
        receiving_defensive_support = 10
        same_international_organization = 10
        trust_in_actor = 1
        negative_opinion = -1
        positive_opinion = 0.1
        royal_ties = 0.5
    }

    wants_to_give_diplo_chance = {
        base = -10
        actor_is_rival = -100
        giving_defensive_support = 5
        receiving_defensive_support = 10
        same_international_organization = 10
        trust_in_actor = 1
        negative_opinion = -0.5
        positive_opinion = 0.1
        royal_ties = 0.25
    }
}	
