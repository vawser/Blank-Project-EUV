lesson_admin = {
    chain = lesson_chain_basics
	delay = 0
	gui_tag = "tutorial_admin"
	start_automatically = no

    #### ECONOMY

    # Direct Player to Economy panel
    lesson_economy_1 = {
        text = "lesson_economy_1_desc"
        highlight_widget = "economy_tab_button"
		highlight_widget = "tab_markets"

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_economy_2
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_economy"
                    OR = {
                        is_widgetid_open = economy_lateralview
                        is_widgetid_open = markets_tab_content
						is_widgetid_open = trading_tab_content
						is_widgetid_open = trade_overview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_markets"
                    is_widgetid_open = markets_tab_content
                }
            }
		}

		effect = {
			hidden_effect = {
				set_tutorial_var = {
					name = tutorial_header
					value = yellow
				}
			}
		}
    }

    # Markets
    lesson_economy_2 = {
		highlight_widget = "market_list"
        text = "lesson_economy_2_desc"
		animation = right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_economy_1
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_economy_3
		}
    }

	# Markets
    lesson_economy_3 = {
		# highlight_widget = "market_list"
        text = "lesson_economy_3_desc"
		animation = right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_economy_2
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_economy_4
		}
    }

	# Trade
    lesson_economy_4 = {
		highlight_widget = "trade_capacity_button"
		highlight_widget = "trade_automation_button"
        text = "lesson_economy_4_desc"
		animation = right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_economy_3
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_economy_5
		}
    }

	# Food
	lesson_economy_5 = {
        text = "lesson_economy_5_desc"
		highlight_widget = "food_needs_button"
		animation = right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_economy_4
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_21
		}
    }

	# # Food
	# lesson_economy_6 = {
    #     text = "lesson_economy_6_desc"
	# 	# highlight_widget = "food_needs_button"
	# 	animation = right

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_economy_5
	# 	}
	# 	gui_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_economy_7
	# 	}
    # }

	# # Food
	# lesson_economy_7 = {
    #     text = "lesson_economy_7_desc"
	# 	# highlight_widget = "food_needs_button"
	# 	animation = right

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_economy_6
	# 	}
	# 	gui_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_economy_8
	# 	}
    # }

	# lesson_admin_18b = {
    #     text = "lesson_admin_18b_desc"
	# 	highlight_widget = "market_card_content"

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_admin_18
	# 	}
	# 	gui_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_admin_19
	# 	}
    # }

    # #### TRADING

    # # Direct Player to Trading tab
    # lesson_admin_19 = {
    #     text = "lesson_admin_19_desc"
    #     highlight_widget = "economy_tab_button"
    #     highlight_widget = "trade_capacity_button"

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_admin_18b
	# 	}
	# 	trigger_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_admin_20
    #         trigger = {
    #             custom_tooltip = {
	# 				text = "lesson_admin_open_economy"
    #                 OR = {
    #                     is_widgetid_open = economy_lateralview
    #                     is_widgetid_open = markets_tab_content
	# 					is_widgetid_open = trading_tab_content
	# 					is_widgetid_open = trade_overview
    #                 }
	# 			}
    #             custom_tooltip = {
    #                 text = "lesson_admin_open_trading"
    #                 is_widgetid_open = trading_tab_content
    #             }
    #         }
	# 	}
    # }

    # # Explain Trading
    # lesson_admin_20 = {
    #     text = "lesson_admin_20_desc"

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_admin_18b
	# 	}
	# 	gui_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_admin_21
	# 	}
    # }
	
    # Direct Player to Goods tab of Production screen
    lesson_admin_21 = {
        text = "lesson_admin_21_desc"
        highlight_widget = "pop_needs_button"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_economy_5
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_22
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_production"
                    OR = {
                        is_widgetid_open = economy_lateralview
                        is_widgetid_open = goods_production_lateralview
                        is_widgetid_open = food_production_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_goods"
                    is_widgetid_open = goods_production_lateralview
                }
            }
		}
    }

    # Explain Goods
    lesson_admin_22 = {
		animation = center
        text = "lesson_admin_22_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_economy_5
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_25
		}
    }

	# # Direct Player to Food tab of Production screen
    # lesson_admin_23 = {
    #     text = "lesson_admin_23_desc"
    #     highlight_widget = "food_needs_button"

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_admin_22
	# 	}
	# 	trigger_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_admin_24
    #         trigger = {
    #             custom_tooltip = {
	# 				text = "lesson_admin_open_production"
    #                 OR = {
    #                     is_widgetid_open = economy_lateralview
    #                     is_widgetid_open = goods_production_lateralview
    #                     is_widgetid_open = food_production_lateralview
    #                 }
	# 			}
    #             custom_tooltip = {
    #                 text = "lesson_admin_open_food"
    #                 is_widgetid_open = food_production_lateralview
    #             }
    #         }
	# 	}
    # }

	# # Explain Food
    # lesson_admin_24 = {
    #     text = "lesson_admin_24_desc"

	# 	gui_transition = {
	# 		button_id = "back"
	# 		button_text = "tutorial_lesson_button_back"
	# 		target = lesson_admin_22
	# 	}
	# 	gui_transition = {
	# 		button_id = "next"
	# 		button_text = "tutorial_lesson_button_next"
	# 		target = lesson_admin_25
	# 	}
    # }

	# Direct Player to Building tab of Production screen
    lesson_admin_25 = {
        text = "lesson_admin_25_desc"
        highlight_widget = "tab_buildings"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_22
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_26
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_production"
                    OR = {
                        is_widgetid_open = economy_lateralview
                        is_widgetid_open = goods_production_lateralview
                        is_widgetid_open = food_production_lateralview
						is_widgetid_open = production_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_buildings"
                    is_widgetid_open = production_lateralview
                }
            }
		}
    }

	# Explain Buildings
    lesson_admin_26 = {
        text = "lesson_admin_26_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_22
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_27
		}
    }

	# Direct Player to Missions!
    lesson_admin_27 = {
        text = "lesson_admin_27_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_missions"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_26
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_28
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
                    OR = {
                        is_widgetid_open = government_lateralview
                        is_widgetid_open = societal_values_lateralview
                        is_widgetid_open = mission_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_missions"
					OR = {
						game_has_missions_enabled = no
                  	 	is_widgetid_open = mission_lateralview
					}
                }
            }
		}
    }

	# Direct Player to Missions!
    lesson_admin_27b = {
        text = "lesson_admin_27_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_missions"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_26
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_28
            enabled = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
				}
                custom_tooltip = {
                    text = "lesson_admin_open_missions"
                }
            }
		}
    }

	lesson_admin_28 = {
        text = "lesson_admin_28_desc"
		highlight_widget = "button_admin_mission"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_27b
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_29
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_has_mission_active"
					OR = {
						has_any_mission_active = yes
						game_has_missions_enabled = no
					}
				}
            }
		}
    }

	lesson_admin_29 = {
        text = "lesson_admin_29_desc"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete_basics"
			target = lesson_finish
		}
    }
}