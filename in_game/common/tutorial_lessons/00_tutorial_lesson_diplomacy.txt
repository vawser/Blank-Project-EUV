lesson_diplomacy = { # NOW CALLED POLITICS
	chain = lesson_chain_basics
	start_automatically = no
	delay = 0
	gui_tag = "tutorial_diplomacy"

	# If the player goes back, we don't want a trigger_transition,
    # instead, we want to show a version of the lesson with a
    # gui_transition so it doesn't automatically progress
    lesson_diplomacy_0b = {
		text = "lesson_diplomacy_0_desc"
        highlight_widget = "society_tab_button"
		highlight_widget = "tab_people"
		highlight_widget = "pops_subtab" 
		
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_1
            
            enabled = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_society"
					OR = {
                        is_widgetid_open = people_lateral_view
                        is_widgetid_open = religion_lateral_view
                        is_widgetid_open = culture_lateral_view
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_people"
                        is_widgetid_open = people_lateral_view
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_pops"
                    is_widgetid_open = people_pops_list_subtab
				}
            }
		}

		effect = {
			hidden_effect = {
				set_tutorial_var = {
					name = tutorial_header
					value = blue
				}
			}
		}
	}

	# Explain Society panel
    lesson_diplomacy_1 = {
		text = "lesson_diplomacy_1_desc"
        highlight_widget = "stat_population"
		highlight_widget = "pop_list"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_0b
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_2
		}
	}

	# Guide Player to Culture tab
    lesson_diplomacy_2 = {
		text = "lesson_diplomacy_2_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_culture"
		highlight_widget = "subtab_culture_breakdown"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_1
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_3
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_society"
					OR = {
                        is_widgetid_open = people_lateral_view
                        is_widgetid_open = religion_lateral_view
                        is_widgetid_open = culture_lateral_view
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_culture"
                    is_widgetid_open = culture_lateral_view
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_culture_breakdown"
                    is_widgetid_open = culture_breakdown_subtab
				}
            }
		}
	}

	# Explain Culture tab
    lesson_diplomacy_3 = {
		text = "lesson_diplomacy_3_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_culture"
		highlight_widget = "culture_list"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_4
		}
	}

	# Guide Player to Works of Art
    lesson_diplomacy_4 = {
		text = "lesson_diplomacy_4_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_culture"
		highlight_widget = "subtab_works_of_art"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_3
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_5
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_society"
					OR = {
                        is_widgetid_open = people_lateral_view
                        is_widgetid_open = religion_lateral_view
                        is_widgetid_open = culture_lateral_view
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_culture"
                    is_widgetid_open = culture_lateral_view
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_works_of_art"
                    is_widgetid_open = works_of_art_subtab
				}
            }
		}
	}

	# Explain Works of Art
    lesson_diplomacy_5 = {
		text = "lesson_diplomacy_5_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_culture"
		highlight_widget = "subtab_works_of_art"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_3
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_6
		}
	}

	# Guide Player to Religion
    lesson_diplomacy_6 = {
		text = "lesson_diplomacy_6_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_religion"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_5
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_7
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_society"
					OR = {
                        is_widgetid_open = people_lateral_view
                        is_widgetid_open = religion_lateral_view
                        is_widgetid_open = culture_lateral_view
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_religion"
                    is_widgetid_open = religion_lateral_view
				}
            }
		}
	}

	# Explain Religion
    lesson_diplomacy_7 = {
		text = "lesson_diplomacy_7_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_religion"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_5
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_8c
		}
	}
	
    # Guide Player to Character view
    lesson_diplomacy_8c = {
		text = "lesson_diplomacy_8c_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_people"
		highlight_widget = "characters_subtab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_7
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_8d
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_society"
					OR = {
                        is_widgetid_open = people_lateral_view
                        is_widgetid_open = religion_lateral_view
                        is_widgetid_open = culture_lateral_view
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_people"
                    is_widgetid_open = people_lateral_view
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_character"
                    is_widgetid_open = people_character_list_subtab
				}
            }
		}
	}

	# Explain Characters
    lesson_diplomacy_8d = {
		text = "lesson_diplomacy_8d_desc"
		highlight_widget = "society_tab_button"
		highlight_widget = "tab_people"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_7
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_8e
		}
	}




	#### GOVERNMENT

    # Open Government panel
    lesson_diplomacy_8e = {
		text = "lesson_diplomacy_8e_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_country"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_8d
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_1
            
            trigger = {
                custom_tooltip = {
                    text = "lesson_admin_open_government"
                    is_widgetid_open = government_lateralview
                }
				custom_tooltip = {
                    text = "lesson_admin_open_country"
                    is_widgetid_open = "govinfo_intro"
                }
            }
		}

	}

	# Ruler
    lesson_admin_1 = {
		highlight_widget = "ruler_container"
		text = "lesson_admin_1_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_8e
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_9

            # enabled = {
            #     custom_tooltip = {
            #         text = "lesson_admin_open_country"
            #         is_widgetid_open = "govinfo_intro"
            #     }
            # }
		}
	}

	# Direct Player to Cabinet subtab
    lesson_admin_9 = {
		text = "lesson_admin_9_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_country"
        highlight_widget = "cabinet_tab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_1
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_10
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
                    OR = {
                        is_widgetid_open = government_lateralview
                        is_widgetid_open = societal_values_lateralview
                        is_widgetid_open = mission_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_country"
                    is_widgetid_open = "govinfo_intro"
                }
                custom_tooltip = {
                    text = "lesson_admin_open_cabinet"
                    is_widgetid_open = cabinet_area_intro
                }
            }
		}
	}

    # Explain Cabinet subtab
    lesson_admin_10 = {
        text = "lesson_admin_10_desc"
		highlight_widget = "cabinet_list"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_1
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_6
		}
    }

    # government type
    lesson_admin_6 = {
		text = "lesson_admin_6_desc"
		highlight_widget = "government_tab_button"
        highlight_widget = "tab_country"
        highlight_widget = "estates_tab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_10
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_6b
			enabled = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
                    OR = {
                        is_widgetid_open = government_lateralview
                        is_widgetid_open = societal_values_lateralview
                        is_widgetid_open = mission_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_country"
                    is_widgetid_open = "govinfo_intro"
                }
                custom_tooltip = {
                    text = "lesson_admin_open_estates"
                    is_widgetid_open = estates_area_intro
                }
            }
		}
	}

	# reforms and privileges
	lesson_admin_6b = {
		text = "lesson_admin_6b_desc"
        highlight_widget = "government_reforms"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_6
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_6c
		}
	}

	# reforms and privileges
	lesson_admin_6c = {
		text = "lesson_admin_6c_desc"
        highlight_widget = "privileges"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_6b
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_11
		}
	}
    
    # Direct Player to Laws subtab
    lesson_admin_11 = {
		text = "lesson_admin_11_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_country"
        highlight_widget = "laws_tab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_6c
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_12
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
                    OR = {
                        is_widgetid_open = government_lateralview
                        is_widgetid_open = societal_values_lateralview
                        is_widgetid_open = mission_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_country"
                    is_widgetid_open = "govinfo_intro"
                }
                custom_tooltip = {
                    text = "lesson_admin_open_laws"
                    is_widgetid_open = laws_area_intro
                }
            }
		}
	}

    # Explain Laws subtab
    lesson_admin_12 = {
        text = "lesson_admin_12_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_6c
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_13
		}
    }

    #### VALUES

    # Direct Player to Values tab
    lesson_admin_13 = {
        text = "lesson_admin_13_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_values"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_12
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_14
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
                    OR = {
                        is_widgetid_open = government_lateralview
                        is_widgetid_open = societal_values_lateralview
                        is_widgetid_open = mission_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_values"
                    is_widgetid_open = societal_values_lateralview
                }
            }
		}
    }

    # Explain Values tab
    lesson_admin_14 = {
        text = "lesson_admin_14_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_12
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_15
		}
    }

	lesson_admin_15 = {
		text = "lesson_admin_15_desc"
		force_pause_game = yes
		animation = center

		shown_in_encyclopedia = no
	
		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_14
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_9
		}
		effect = {
			close_all_views = yes
		}
	}
	
    # Open Society panel
    lesson_diplomacy_0 = {
		text = "lesson_diplomacy_0_desc"
        highlight_widget = "society_tab_button"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_15
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_1
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_society"
					OR = {
                        is_widgetid_open = people_lateral_view
                        is_widgetid_open = religion_lateral_view
                        is_widgetid_open = culture_lateral_view
                    }
				}
            }
		}
	}

	
	### DIPLOMACY
    # Guide Player to Diplomacy view (Relations)
    lesson_diplomacy_9 = {
		text = "lesson_diplomacy_9_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_15
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_10
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_diplomacy"
					OR = {
                        is_widgetid_open = diplomacy_lateralview
                        is_widgetid_open = diplomacy_macrobuilder_lateralview
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_relations"
                    is_widgetid_open = diplomacy_lateralview
				}
            }
		}
		effect = {
			close_all_views = yes
		}
	}
	
    # Explain Diplomacy
    lesson_diplomacy_10 = {
		text = "lesson_diplomacy_10_desc"
		animation = center
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_15
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_11
		}
	}

    # Guide Player to Relations -> Curerent Relations
    lesson_diplomacy_11 = {
		text = "lesson_diplomacy_11_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"
		highlight_widget = "current_relations_tab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_10
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_12
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_diplomacy"
					OR = {
					is_widgetid_open = diplomacy_lateralview
                        is_widgetid_open = diplomacy_macrobuilder_lateralview
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_relations"
                    is_widgetid_open = diplomacy_lateralview
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_current_relations"
                    is_widgetid_open = current_relations_content
				}
            }
		}
	}

    # Explain Current Relations
    lesson_diplomacy_12 = {
		text = "lesson_diplomacy_12_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"
		highlight_widget = "current_relations_tab"
		highlight_widget = "current_relations_list"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_10
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_13
		}
		
		effect = {
			if = {
				limit = {
					num_of_diplomats <= 1
				}
				add_diplomats = 1
			}
		}
	}
	
    # Guide Player to Known Countries
    lesson_diplomacy_13 = {
		text = "lesson_diplomacy_13_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"
		highlight_widget = "known_countries_subtab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_12
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_14
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_diplomacy"
					OR = {
					is_widgetid_open = diplomacy_lateralview
                        is_widgetid_open = diplomacy_macrobuilder_lateralview
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_relations"
                    is_widgetid_open = diplomacy_lateralview
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_known_countries"
                    is_widgetid_open = known_countries_subtab
				}
            }
		}
	}
	
    # Explain Known Countries & Great Powers
    lesson_diplomacy_14 = {
		text = "lesson_diplomacy_14_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"
		highlight_widget = "known_countries_subtab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_12
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_15
		}
	}
	
    # Guide Player to Organizations
    lesson_diplomacy_15 = {
		text = "lesson_diplomacy_15_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"
		highlight_widget = "known_organizations_subtab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_14
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_16
            
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_open_diplomacy"
					OR = {
					is_widgetid_open = diplomacy_lateralview
                        is_widgetid_open = diplomacy_macrobuilder_lateralview
                    }
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_relations"
                    is_widgetid_open = diplomacy_lateralview
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_known_orgs"
                    is_widgetid_open = known_orgaizations_subtab
				}
            }
		}
	}
	
    # Explain Organizations
    lesson_diplomacy_16 = {
		text = "lesson_diplomacy_16_desc"
		highlight_widget = "diplomacy_tab_button"
		highlight_widget = "tab_relations"
		highlight_widget = "known_organizations_subtab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_14
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_17
		}
	}

    # Guide Player to Foreign Country Lateralview
    lesson_diplomacy_17 = {
		text = "lesson_diplomacy_17_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_16
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_18
            
            trigger = {
				custom_tooltip = {
					text = "lesson_trigger_zoom_out"
					is_camera_in_zoom_level = large
				}
				custom_tooltip = {
					text = "lesson_diplomacy_open_foreign_country"
                    is_widgetid_open = foreign_country_lateralview
				}
            }
		}

		effect = {
			close_all_views = yes
		}
	}

	# Explain Foreign Country Lateralview
    lesson_diplomacy_18 = {
		text = "lesson_diplomacy_18_desc"
		highlight_widget = "foreign_country_main_content"

		animation = right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_16
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_19
		}
	}

	# Guide Player to Actions
    lesson_diplomacy_19 = {
		text = "lesson_diplomacy_19_desc"
		highlight_widget = "open_all_diplo_actions_button"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_18
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_20
            
            trigger = {
				custom_tooltip = {
					text = "lesson_diplomacy_open_actions"
                    is_widgetid_open = diplomacy_macrobuilder_lateralview
				}
            }
		}
	}

	# Guide Player to Actions
    lesson_diplomacy_19b = {
		text = "lesson_diplomacy_19_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_18
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_20
            
            trigger = {
				custom_tooltip = {
					text = "lesson_diplomacy_open_actions"
                    is_widgetid_open = diplomacy_macrobuilder_lateralview
				}
            }
		}
	}

	# Explain Actions
    lesson_diplomacy_20 = {
		text = "lesson_diplomacy_20_desc"
		highlight_widget = "improve_opinion_button"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_18
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_diplomacy_21
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_21
            
            trigger = {
				custom_tooltip = {
					text = "lesson_diplomacy_confirm_diplo_action"
                    is_widgetid_open = confirm_diplomatic_action_popup
				}
            }
		}
	}
	
	# Explain Actions
    lesson_diplomacy_20b = {
		text = "lesson_diplomacy_20_desc"
		highlight_widget = "improve_opinion_button"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_19b
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_diplomacy_21
            
            enabled = {
				custom_tooltip = {
					text = "lesson_diplomacy_confirm_diplo_action"
				}
            }
		}
	}
	
	# Finish Action Explanation
    lesson_diplomacy_21 = {
		text = "lesson_diplomacy_21_desc"
		highlight_widget = "foreign_country_main_content"
		animation = far_right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_20b
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_27
		}
	}

	# Direct Player to Missions!
    lesson_admin_27 = {
        text = "lesson_admin_27_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_missions"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_21
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_28
            trigger = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
                    OR = {
                        is_widgetid_open = government_lateralview
                        is_widgetid_open = societal_values_lateralview
                        is_widgetid_open = mission_lateralview
                    }
				}
                custom_tooltip = {
                    text = "lesson_admin_open_missions"
					OR = {
						game_has_missions_enabled = no
                  	 	is_widgetid_open = mission_lateralview
					}
                }
            }
		}

		effect = {
			close_all_views = yes
		}
    }

	# Direct Player to Missions!
    lesson_admin_27b = {
        text = "lesson_admin_27_desc"
        highlight_widget = "government_tab_button"
        highlight_widget = "tab_missions"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_diplomacy_21
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_28
            enabled = {
                custom_tooltip = {
					text = "lesson_admin_open_government"
				}
                custom_tooltip = {
                    text = "lesson_admin_open_missions"
                }
            }
		}
    }
	
	lesson_admin_28 = {
        text = "lesson_admin_28b_desc"
		highlight_widget = "button_diplomacy_mission"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_admin_27b
		}
		
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_admin_29
            trigger = {
                custom_tooltip = {
					text = "lesson_diplomacy_has_mission_active"
					OR = {
						has_any_mission_active = yes
						game_has_missions_enabled = no
					}
				}
            }
		}
    }

	lesson_admin_29 = {
        text = "lesson_admin_29_desc"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete_basics"
			target = lesson_finish
		}
    }
}
