hire_advisor = {
	type = owncountry

	price = price:hire_advisor
	

	ai_tick = daily
	ai_tick_frequency = 180

	automation_tick = monthly
	automation_tick_frequency = 1
	player_automated_category = governmentreform


	potential = {
	}

	allow = {
	}

	ai_will_do = {
		scope:actor = {
			#first, how many do we need?
			value = {
				#how many should we have?
				value = {
					value = 2
					add = {
						value = modifier:government_size
					}
				}
				#how many have we already got?
				subtract = num_adult_capable_characters
			}

			#not massively important
			divide = 5
		}
	}

	effect = {
		scope:actor = {
			random_estate = {
				limit = {
					estate_type = {
						eligible_for_cabinet = {
							target = scope:actor
							value = yes
						}
					}
				}
				estate_type = {
					save_scope_as = target_estate_type
				}
			}
			custom_tooltip = {
				text = hire_advisor_effect
				create_character = {
					trait_category = ruler
					estate = scope:target_estate_type
					adm = {
						integer_range = {
							min = {
								#10 for no admin ability, 60 for full
								value = 10
								ruler_or_regent ?= {
									add = {
										value = adm
										multiply = 0.5
									}
								}
							}
							max = {
								#50 for no admin ability, 100 for full
								value = 50
								ruler_or_regent ?= {
									add = {
										value = adm
										multiply = 0.5
									}
								}
							}
						}
					}
					dip = {
						integer_range = {
							min = {
								#10 for no dip ability, 60 for full
								value = 10
								ruler_or_regent ?= {
									add = {
										value = dip
										multiply = 0.5
									}
								}
							}
							max = {
								#50 for no admin ability, 100 for full
								value = 50
								ruler_or_regent ?= {
									add = {
										value = dip
										multiply = 0.5
									}
								}
							}
						}
					}
					mil = {
						integer_range = {
							min = {
								#10 for no admin ability, 60 for full
								value = 10
								ruler_or_regent ?= {
									add = {
										value = mil
										multiply = 0.5
									}
								}
							}
							max = {
								#50 for no admin ability, 100 for full
								value = 50
								ruler_or_regent ?= {
									add = {
										value = mil
										multiply = 0.5
									}
								}
							}
						}
					}
					random_estate_type_trigger = {
						scope:actor = {
							estate_type_allowed_in_cabinet = {
								estate_type = prev
							}					
						}
					}
					save_scope_as = new_character
				}
			}
		}
	}
}