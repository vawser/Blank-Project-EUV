pw_push_for_aristocracy = {
	type = disaster

	allow = {
		scope:actor = {
			estate_satisfaction:peasants_estate > estate_satisfaction_mild_bonus
			societal_value:aristocracy_vs_plutocracy > -95
		}
	}

	automation_tick = never
	automation_tick_frequency = 12
	price = price:peasants_war_actions_price

	cooldown = {
		type = pw_push_for_aristocracy
		years = 1
	}
	
	select_trigger = {
		looking_for_a = disaster
		name = "choose_disaster"
		target_flag = recipient
		column = {
			data = name
		}
		visible = {
			disaster_type = disaster_type:rise_of_the_szlachta
			disaster_is_active = yes
		}
	}

	effect = {
		scope:actor = {
			change_societal_value = {
				type = aristocracy_vs_plutocracy
				value = societal_value_move_to_left
			}

			add_estate_satisfaction = { 
				type = estate_type:burghers_estate 
				value = estate_satisfaction_mild_penalty 
			}
		}	
	}

	ai_will_do = {
		add = 5
		add = {
			value = "scope:actor.estate_power(estate_type:nobles_estate)"
			multiply = 10
		}
		add = {
			value = "scope:actor.estate_power(estate_type:burghers_estate)"
			multiply = -10
		}
		add = {
			value = scope:actor.modifier:global_nobles_estate_power
			multiply = 10
		}
		add = {
			value = scope:actor.modifier:global_burghers_estate_power
			multiply = -10
		}
		if = {
			limit = {
				scope:actor = { societal_value:aristocracy_vs_plutocracy > 0 }
			}
			subtract = scope:actor.societal_value:aristocracy_vs_plutocracy
		}
		else_if = {
			limit = {
				scope:actor = { societal_value:aristocracy_vs_plutocracy < 0 }
			}
			add = {
				value = scope:actor.societal_value:aristocracy_vs_plutocracy
				multiply = -1
			}
		}
		if = {
			limit = { scope:actor.modifier:monthly_towards_aristocracy > 0 }
			add = {
				value = scope:actor.modifier:monthly_towards_aristocracy
				multiply = 100
			}
		}
		if = {
			limit = { scope:actor.modifier:monthly_towards_plutocracy > 0 }
			subtract = {
				value = scope:actor.modifier:monthly_towards_plutocracy
				multiply = 100
			}
		}
		if = {
			limit = { scope:actor.government_power < 50 }
			subtract = -30
		}
		if = {
			limit = { scope:actor.stability > 20 }
			add = scope:actor.stability
		}
		else = { 
			add = {
				value = scope:actor.stability 
				multiply = -10 
			}
		}
	}
}

pw_push_for_plutocracy = {
	type = disaster

	allow = {
		scope:actor = {
			estate_satisfaction:peasants_estate > estate_satisfaction_mild_bonus
			societal_value:aristocracy_vs_plutocracy < 90
		}
	}

	automation_tick = never
	automation_tick_frequency = 12
	price = price:peasants_war_actions_price

	cooldown = {
		type = pw_push_for_aristocracy
		years = 1
	}
	
	select_trigger = {
		looking_for_a = disaster
		name = "choose_disaster"
		target_flag = recipient
		column = {
			data = name
		}
		visible = {
			disaster_type = disaster_type:rise_of_the_szlachta
			disaster_is_active = yes
		}
	}

	effect = {
		scope:actor = {
			change_societal_value = {
				type = aristocracy_vs_plutocracy
				value = societal_value_move_to_right
			}

			add_estate_satisfaction = { 
				type = estate_type:nobles_estate 
				value = estate_satisfaction_mild_penalty 
			}
		}	
	}

	ai_will_do = {
		add = 5
		add = {
			value = "scope:actor.estate_power(estate_type:nobles_estate)"
			multiply = -10
		}
		add = {
			value = "scope:actor.estate_power(estate_type:burghers_estate)"
			multiply = 10
		}
		add = {
			value = scope:actor.modifier:global_burghers_estate_power
			multiply = 10
		}
		add = {
			value = scope:actor.modifier:global_nobles_estate_power
			multiply = -10
		}
		if = {
			limit = {
				scope:actor = { societal_value:aristocracy_vs_plutocracy > 0 }
			}
			add = scope:actor.societal_value:aristocracy_vs_plutocracy
		}
		else_if = {
			limit = {
				scope:actor = { societal_value:aristocracy_vs_plutocracy < 0 }
			}
			subtract = scope:actor.societal_value:aristocracy_vs_plutocracy
		}
		if = {
			limit = { scope:actor.modifier:monthly_towards_plutocracy > 0 }
			add = {
				value = scope:actor.modifier:monthly_towards_plutocracy
				multiply = 100
			}
		}
		if = {
			limit = { scope:actor.modifier:monthly_towards_aristocracy > 0 }
			subtract = {
				value = scope:actor.modifier:monthly_towards_aristocracy
				multiply = 100
			}
		}
		if = {
			limit = { scope:actor.government_power < 50 }
			subtract = -30
		}
		if = {
			limit = { scope:actor.stability > 20 }
			add = scope:actor.stability
		}
		else = { 
			add = {
				value = scope:actor.stability 
				multiply = -10 
			}
		}
	}
}