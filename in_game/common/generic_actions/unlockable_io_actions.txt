#Generic actions which could be unlocked and used in IOs
hire_cabinet_character_from_member = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_hire_cabinet_character_from_member = yes
			gold >= hire_cabinet_character_from_member_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = source
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
		}
	}
	select_trigger = {
		looking_for_a = character
		source = source
		target_flag = target
		name = "choose_character"
		column = {
			data = character_info
		}
		visible = {
			is_courtier = yes
			modifier:blocked_from_character_interactions = no
			OR = {
				has_dynasty = no
				NOT = { dynasty = scope:actor.ruler.dynasty }
				scope:actor = {
					ruler_or_heir_if_regent ?= {
						dynasty ?= {
							NOT = { this = root.dynasty }
						}
					}
				}
			}
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = hire_cabinet_character_from_member_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:source }
			scope:source = {
				add_gold = {
					value = hire_cabinet_character_from_member_price_gain
					multiply = 0.25
				}
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				move_country = scope:actor
				add_character_modifier = {
					modifier = hired_cabinet_character_from_member
					years = -1
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = 0
		if = {
			limit = { scope:actor = { any_courtier = { count < 5 } } }
			add = 25
		}
	}
}

hire_military_leader_from_member = {
	type = internationalorganization	
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			modifier:unlock_hire_military_leader_from_member = yes
			international_organization_has_leader = yes
			gold >= hire_military_leader_from_member_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = source
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
		}
	}
	select_trigger = {
		looking_for_a = character
		source = source
		target_flag = target
		name = "choose_character"
		column = {
			data = character_info
		}
		visible = {
			is_courtier = yes
			modifier:blocked_from_character_interactions = no
			is_eligible_military_leader = scope:actor
			OR = {
				has_dynasty = no
				NOT = { dynasty = scope:actor.ruler.dynasty }
				scope:actor = {
					ruler_or_heir_if_regent ?= {
						dynasty ?= {
							NOT = { this = root.dynasty }
						}
					}
				}
			}
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = hire_cabinet_character_from_member_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:source }
			scope:source = {
				add_gold = {
					value = hire_cabinet_character_from_member_price_gain
					multiply = 0.25
				}
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				move_country = scope:actor
				add_character_modifier = {
					modifier = hired_military_leader_from_member
					years = -1
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = -50
		if = {
			limit = {
				scope:actor = {
					navy_size = 0
					army_size = 0
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:actor = { any_army = { NOT = { exists = leader } } }
			}
			add = 100
		}
		if = {
			limit = {
				scope:actor = { any_navy = { NOT = { exists = leader } } }
			}
			add = 100
		}
	}
}

hire_artist_from_member = {
	type = internationalorganization	
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_hire_artist_from_member = yes
			gold >= hire_artist_from_member_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = source
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
		}
	}
	select_trigger = {
		looking_for_a = character
		source = source
		target_flag = target
		name = "choose_character"
		column = {
			data = character_info
		}
		visible = {
			is_artist = yes
			modifier:blocked_from_character_interactions = no
		}
		enabled = {
			art_progress < 0.02
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = hire_cabinet_character_from_member_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:source }
			scope:source = {
				add_gold = {
					value = hire_cabinet_character_from_member_price_gain
					multiply = 0.25
				}
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				move_country = scope:actor
				add_character_modifier = {
					modifier = hired_artist_from_member
					years = -1
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = -25
		add = {
			desc = "BIAS_FROM_RULER_TRAITS"
			value = scope:actor.modifier:bias_for_patron_of_arts_policies
			multiply = 5
		}
	}
}

force_convert_member = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_force_convert_member = yes
			gold >= force_convert_member_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = target
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
			NOT = { religion = scope:actor.religion }
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = force_convert_member_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				change_religion = scope:actor.religion
				change_religion_for_ruler_and_family = { country = scope:target religion = scope:actor.religion }
				add_country_modifier = {
					modifier = missionary_zeal
					years = 10
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = -75
		add = {
			desc = "BIAS_FROM_RULER_TRAITS"
			value = scope:actor.modifier:bias_for_spiritualist_policies
			multiply = 5
		}
		if = {
			limit = {
				scope:target ?= {
					religion.group != scope:actor.religion.group
				}
			}
			add = 100
		}
	}
}

align_societal_values_member = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_align_societal_values_member = yes
			gold >= align_societal_values_member_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = target
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
			has_societal_value_push = no
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = align_societal_values_member_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				apply_societal_value_push_modifiers = {
					country = scope:actor
					years = 10
					size = 0.5
				}
			}
		}
	}
	ai_will_do = {
		add = -100
		add = {
			value = "scope:actor.opinion(scope:target)"
			multiply = -1
		}
	}
}

improve_relations_member = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_improve_relations_member = yes
			gold >= improve_relations_member_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = target
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
			NOT = {
				has_opinion = { target = scope:actor modifier = opinion_improve_relations_member }
			}
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = improve_relations_member_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				add_opinion = {
					target = scope:actor
					modifier = opinion_improve_relations_member
				}
				add_legitimacy = legitimacy_extreme_bonus
			}
		}
	}
	ai_will_do = {
		add = -50
		add = {
			value = scope:target.legitimacy
			subtract = 100
			multiply = -1
		}
		add = {
			value = "scope:actor.prev_opinion_of_this(scope:target)"
			multiply = -1
		}
	}
}

invest_in_members_economy = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_invest_in_members_economy = yes
			gold >= invest_in_members_economy_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = target
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
			NOT = { has_country_modifier = invest_in_members_economy_modifier }
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = invest_in_members_economy_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				add_gold = {
					value = invest_in_members_economy_price
					multiply = 0.75
				}
				add_country_modifier = {
					modifier = invest_in_members_economy_modifier
					years = 10
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = -25
		add = {
			desc = "BIAS_FROM_RULER_TRAITS"
			value = scope:actor.modifier:bias_for_capitalist_policies
			multiply = 5
		}
	}
}

invest_in_members_administration = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_invest_in_members_administration = yes
			gold >= invest_in_members_administration_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = target
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
			NOT = { has_country_modifier = invest_in_members_administration_modifier }
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = invest_in_members_administration_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				add_gold = {
					value = invest_in_members_administration_price
					multiply = 0.75
				}
				add_country_modifier = {
					modifier = invest_in_members_administration_modifier
					years = 10
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = -25
		add = {
			desc = "BIAS_FROM_RULER_TRAITS"
			value = scope:actor.modifier:bias_for_administrative_policies
			multiply = 5
		}
	}
}

invest_in_members_military = {
	type = internationalorganization
	ai_tick = monthly
	ai_tick_frequency = 12

	automation_tick = never
	automation_tick_frequency = 12
	potential = {
	}
	allow = {
	}
	select_trigger = {
		looking_for_a = international_organization
		source = actor
		target_flag = recipient
		name = "choose_international_organization"
		column = {
			data = name
		}
		visible = {
			leader_country ?= scope:actor
			has_enabled_currency = gold
			international_organization_has_leader = yes
			modifier:unlock_invest_in_members_military = yes
			gold >= invest_in_members_military_price
		}
	}
	select_trigger = {
		looking_for_a = country
		source = recipient
		target_flag = target
		name = "choose_country"
		column = {
			data = name
		}
		visible = {
			root != scope:actor
			NOT = { has_country_modifier = invest_in_members_military_modifier }
		}
	}
	effect = {
		scope:recipient = {
			add_gold = {
				value = invest_in_members_military_price
				multiply = -1
			}
		}
		if = {
			limit = { exists = scope:target }
			scope:target = {
				add_gold = {
					value = invest_in_members_military_price
					multiply = 0.75
				}
				add_country_modifier = {
					modifier = invest_in_members_military_modifier
					years = 10
					mode = add_and_extend
				}
			}
		}
	}
	ai_will_do = {
		add = -25
		add = {
			desc = "BIAS_FROM_RULER_TRAITS"
			value = scope:actor.modifier:bias_for_militarist_policies
			multiply = 5
		}
	}
}