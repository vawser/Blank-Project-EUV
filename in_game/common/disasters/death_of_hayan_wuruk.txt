death_of_hayan_wuruk = {

	image = "gfx/interface/illustrations/disaster/death_of_hayan_wuruk.dds"
	
	monthly_spawn_chance = monthly_spawn_chance_unique

	can_start = {
		tag = MAJ
		has_any_active_disaster = no
		NOT = {
			had_disaster_trigger = {
				type = death_of_hayan_wuruk
			}
		}
		previous_ruler ?= character:maj_hayam_wuruk
	}
	

	can_end = {
		death_of_hayan_wuruk_end_trigger = yes
	}
	modifier = {
		subject_loyalty = -10
		diplomatic_spending_cost = 0.025

	}
	
	on_start = {
		trigger_event_non_silently = death_of_hayan_wuruk.1 #Death of Hayam Wuruk
	}
	on_end = {
		trigger_event_non_silently = death_of_hayan_wuruk.7 #End of the Crisis
		set_ended_disaster_flag_effect = { type = death_of_hayan_wuruk }
	}
	
	on_monthly = {
		c:MAJ = {
			if = {
				limit = { has_variable = maj_death_of_hayan_wuruk_timer }
				change_variable = {
					name = maj_death_of_hayan_wuruk_timer
					add = 1
				}
			}
			else = {
				set_variable = {
					name = maj_death_of_hayan_wuruk_timer
					value = 1
				}
			}
		}

		random_list = {
			10 = { custom_tooltip = an_event_occurs_tt }
			90 = { custom_tooltip = no_event_occurs_tt }
		}

		hidden_effect = {
			random_list = {
				900 = {}
				50 = { trigger_event_silently = death_of_hayan_wuruk.2 }
				50 = { trigger_event_silently = death_of_hayan_wuruk.6 }
			}
		}
		
	}
}